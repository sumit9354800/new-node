<%- include('../partial/head') %>
  </head>

  <body>

    <%- include('../partial/navbar') %>

      <div class="min-h-screen flex justify-center items-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8">
        <div class="max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-lg">

          <% if(typeof errorMessages !=='undefined' && errorMessages && errorMessages.length>0){ %>
            <div class="max-w-md mx-auto my-6">
              <!-- Generic single error -->
              <div class="rounded-md bg-red-50 p-4 border border-red-100">
                <div class="flex">
                  <div class="flex-shrink-0">
                    <i class="bi bi-exclamation-circle text-red-600 text-2xl"></i>
                  </div>
                  <div class="ml-3">
                    <% errorMessages.forEach((err,index)=>{ %>
                      <p class="text-sm font-medium text-red-800">
                        <span>
                          <%= index+1+'. ' %>
                        </span>
                        <span>
                          <%= err %>
                        </span>
                      </p>
                      <% }) %>
                  </div>
                </div>
              </div>
            </div>
            <% } %>

              <div class="text-center">
                <div class="mx-auto h-12 w-12 rounded-full bg-red-50 flex items-center justify-center">
                  <i class="bi bi-house-heart text-red-500 text-2xl"></i>
                </div>
                <h1 class="mt-3 text-center text-3xl font-extrabold text-gray-900">
                  Join <span class="text-red-500">Airbnb</span>
                </h1>
                <p class="mt-2 text-center text-sm text-gray-600">
                  Create your account and start exploring
                </p>
              </div>
              <form action="/sign-up" method="post" class="mt-8 space-y-6">
                <div class="rounded-md shadow-sm space-y-4">
                  <div class="relative">
                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                      <i class="bi bi-person text-gray-400"></i>
                    </div>
                    <input
                      class="appearance-none rounded-lg relative block w-full pl-10 px-3 py-2.5 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 focus:z-10 sm:text-sm transition duration-200"
                      type="text" value="<%= oldInput.firstName? oldInput.firstName:'' %>" name="firstName" placeholder="First Name" required>
                  </div>
                  <div class="relative">
                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                      <i class="bi bi-person text-gray-400"></i>
                    </div>
                    <input
                      class="appearance-none rounded-lg relative block w-full pl-10 px-3 py-2.5 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 focus:z-10 sm:text-sm transition duration-200"
                      type="text" value="<%= oldInput.lastName? oldInput.lastName:'' %>" name="lastName" placeholder="Last Name">
                  </div>
                  <div class="relative">
                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                      <i class="bi bi-envelope text-gray-400"></i>
                    </div>
                    <input
                      class="appearance-none rounded-lg relative block w-full pl-10 px-3 py-2.5 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 focus:z-10 sm:text-sm transition duration-200"
                      type="email" value="<%= oldInput.email? oldInput.email:'' %>" name="email" placeholder="Email address" required>
                  </div>
                  <div class="relative">
                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                      <i class="bi bi-lock text-gray-400"></i>
                    </div>
                    <input id="password"
                      class="appearance-none rounded-lg relative block w-full pl-10 pr-10 px-3 py-2.5 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 focus:z-10 sm:text-sm transition duration-200"
                      type="password" name="password" placeholder="Password" required>
                    <button id="toggle-password" type="button" data-target="password"
                      class="absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 focus:outline-none"
                      aria-label="Toggle password visibility">
                      <i class="bi bi-eye"></i>
                    </button>
                  </div>
                  <div class="relative">
                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                      <i class="bi bi-shield-lock text-gray-400"></i>
                    </div>
                    <input id="confirmPassword"
                      class="appearance-none rounded-lg relative block w-full pl-10 pr-10 px-3 py-2.5 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 focus:z-10 sm:text-sm transition duration-200"
                      type="password" name="confirmPassword" placeholder="Confirm password" required>
                    <button id="toggle-confirm" type="button" data-target="confirmPassword"
                      class="absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 focus:outline-none"
                      aria-label="Toggle confirm password visibility">
                      <i class="bi bi-eye"></i>
                    </button>
                  </div>
                </div>

                <div class="space-y-4">
                  <div class="flex flex-col space-y-2">
                    <label class="text-sm font-medium text-gray-700">I want to:</label>
                    <div class="flex space-x-4">
                      <label class="inline-flex items-center">
                        <input type="radio" name="userType" value="guest" id="guest"
                          class="form-radio h-4 w-4 text-red-500 focus:ring-red-500 border-gray-300"
                          <% if (typeof oldInput !== ' undefined' && oldInput.userType==='guest' ) { %>checked<% } %> >
                              <span class="ml-2 text-sm text-gray-700">Guest</span>
                              </label>
                              <label class="inline-flex items-center">
                                <input type="radio" name="userType" value="host" id="host"
                                  class="form-radio h-4 w-4 text-red-500 focus:ring-red-500 border-gray-300" <%
                                  if(typeof oldInput !=='undefined' && oldInput.userType==='host' ) { %>checked<% } %> >
                                  <span class="ml-2 text-sm text-gray-700">Host</span>
                              </label>
                  </div>
                </div>


                <div class="flex items-center">
                  <input type="checkbox" name="terms" id="terms" required
                    class="h-4 w-4 text-red-500 focus:ring-red-500 border-gray-300 rounded">
                  <label for="terms" class="ml-2 block text-sm text-gray-900">
                    I agree to the <a href="#" class="text-red-500 hover:text-red-700">Terms and Conditions</a>
                  </label>
                </div>
              </div>

              <div>
                <button type="submit"
                  class="group relative w-full flex justify-center py-2.5 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-red-500 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition duration-200">
                  <span class="absolute left-0 inset-y-0 flex items-center pl-3">
                    <i class="bi bi-person-plus text-red-300 group-hover:text-red-200"></i>
                  </span>
                  Create Account
                </button>
              </div>
              </form>
            </div>
        </div>

        <script>
          // Password visibility toggles for sign-up form
          (function () {
            function setupToggle(buttonId, inputId) {
              var btn = document.getElementById(buttonId);
              var input = document.getElementById(inputId);
              if (!btn || !input) return;
              var icon = btn.querySelector(' i'); btn.addEventListener('click', function () {
                if (input.type === 'password'
                ) {
                  input.type = 'text'; if (icon) {
                    icon.classList.remove('bi-eye');
                    icon.classList.add('bi-eye-slash');
                  }
                } else {
                  input.type = 'password'; if (icon) {
                    icon.classList.remove('bi-eye-slash'); icon.classList.add('bi-eye');
                  }
                }
              });
            } if
              (document.readyState === 'loading') {
              document.addEventListener('DOMContentLoaded', function
                () {
                setupToggle('toggle-password', 'password');
                setupToggle('toggle-confirm', 'confirmPassword');
              });
            } else {
              setupToggle('toggle-password', 'password'); setupToggle('toggle-confirm', 'confirmPassword'
              );
            }
          })(); </script>

  </body>

  </html>